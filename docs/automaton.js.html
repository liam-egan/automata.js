<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>automaton.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="nav">
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Automata.html">Automata</a><ul class='methods'><li data-type='method'><a href="module-Automata.html#.Automaton">Automaton</a></li><li data-type='method'><a href="module-Automata.html#.Cell">Cell</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">automaton.js</h1>
    

    <!--container.tmpl-->




    <!--source.tmpl-->

    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Cell from './cell'

/**
 * A stateful, immutable grid of cells, each with an enabled or disabled state
 * @memberof module:Automata
 * @typedef Automaton
 * @property {Array&lt;Array&lt;Cell>>} cells The grid of cells
 * @property {NextFunction} next A function which returns the next state of the
 * automaton based on the current state
 *
 */

/**
 * A function which takes the current state of the automaton and produces the
 * updated state
 * @memberof module:Automata
 * @function
 * @typedef NextFunction
 * @return {Automaton} An automaton with the updated state
 */

/**
 * A function which produces the next state of a given cell
 * @memberof module:Automata
 * @function
 * @typedef NextCellFunction
 * @param {number} x The x coord of the cell
 * @param {number} y The y coord of the cell
 * @param {Automaton} automaton The complete automaton at the state before next
 * was called
 * @return {Cell} A cell with the updated state
 */

/**
 * Produces an automaton with the desired options
 * @memberof module:Automata
 * @param {Object} options The options
 * @param {NextCellFunction} options.produceNextCellState Function which is
 * applied to each of the cells in the grid and produces the next state of each
 * cell
 * @param {number} [options.width=1] The width of the grid to create. Useless if
 * cells is also present
 * @param {number} [options.height=1] The height of the grid to create. Useless
 * if cells is also present
 * @param {Array&lt;Array&lt;Cell>>} [options.cells] Predefined array of cells.
 * Defaults to an array of given width and height
 * @throws {TypeError} If produceNextCellState is missing
 * @return {Automaton}
 *
 * @example
 * const a = automata.Automaton({
 *   produceNextCellState: () => true,
 *   width: 10,
 *   height: 10
 * })
 *
 * @example
 * const a = automata.Automaton({
 *   produceNextCellState: () => true,
 *   cells: [[automata.Cell(false)]]
 * })
 */
function Automaton(options = {}) {
  const { produceNextCellState, width = 1, height = 1 } = options

  if (!produceNextCellState) {
    throw new TypeError('produceNextCellState is required')
  }

  let { cells } = options

  if (width &amp;&amp; height &amp;&amp; !cells) {
    cells = Array.from(Array(height), (v, i) =>
      Array.from(Array(width), (v, i) => Cell(false)),
    )
  }

  const next = () => {
    const currentState = Automaton({
      produceNextCellState,
      cells,
    })

    return Automaton({
      produceNextCellState,
      cells: cells.map((cellRow, y) =>
        cellRow.map((cell, x) =>
          Cell({
            enabled: !!produceNextCellState(x, y, currentState),
          }),
        ),
      ),
    })
  }

  return {
    next,
    cells,
  }
}

export default Automaton
</code></pre>
        </article>
    </section>





</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jun 21 2018 16:23:35 GMT-0400 (Eastern Daylight Time) using the LOKE theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
